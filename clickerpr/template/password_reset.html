{% extends 'base.html' %}

{% block content %}
  <div class="container">

    {% if not reset_done %}
      <!-- Password Reset Form (Request) -->
      <h2>Forgot your password?</h2>
      <p>Enter your email address, and we will send you a link to reset your password.</p>
      <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Send Reset Link</button>
      </form>
      
    {% elif reset_done %}
      <!-- Password Reset Done -->
      <h2>Password Reset Sent</h2>
      <p>An email has been sent to you with instructions on how to reset your password. Please check your inbox.</p>
    
    {% elif reset_confirm %}
      <!-- Password Reset Confirm -->
      <h2>Reset Your Password</h2>
      <p>Enter your new password below.</p>
      <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Reset Password</button>
      </form>

    {% elif reset_complete %}
      <!-- Password Reset Complete -->
      <h2>Password Reset Complete</h2>
      <p>Your password has been successfully reset. You can now <a href="{% url 'login' %}">log in</a> with your new password.</p>

    {% endif %}

  </div>
{% endblock %}
